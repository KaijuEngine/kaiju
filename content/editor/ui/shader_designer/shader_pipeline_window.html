{{define "flags"}}
	<div class="inputFlags lightDarkBG">
		{{range $_, $k := .List}}
			<div class="checkboxListEntry">
				<input name="{{$k}}" data-field="{{$.Field}}" data-array="{{$.Array}}" data-index="{{$.Index}}" class="inputCheck" type="checkbox" {{if ($.Has $k)}}checked="checked"{{end}} onchange="valueChanged" />
				<span class="inputCheckLabel">{{$k}}</span>
			</div>
		{{end}}
	</div>
{{end}}

<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="editor/ui/editor_style.css">
		<link rel="stylesheet" type="text/css" href="editor/ui/shader_designer/shader_designer.css">
	</head>
	<body>
		<div class="fill darkBG noClipY pad5">
			<div class="menuBar">
				<span onclick="returnHome">Home</span>
			</div>
			<div class="topFields">
				<h1>Shader Pipeline Editor</h1>
				<div class="inputItem">
					<div class="inputLabel">Name:</div>
					<input id="Name" class="input" type="text" value="{{.Name}}" onchange="nameChanged" />
				</div>

				<!-- vkPipelineInputAssemblyStateCreateInfo -->
				<h3>Pipeline InputAssembly</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Topology:</div>
					<select data-field="Topology" class="input" value="{{.Topology}}" onchange="valueChanged">
					{{range $_, $k := .ListTopology}}
						<option value="{{$k}}">{{$k}}</option>
					{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Primitive Restart:</div>
					<input data-field="PrimitiveRestart" class="inputCheck" type="checkbox" {{if .PrimitiveRestart}}checked="checked"{{end}} onchange="valueChanged" />
				</div>

				<!-- vkPipelineRasterizationStateCreateInfo -->
				<h3>Pipeline Rasterization</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Clamp:</div>
					<input data-field="DepthClampEnable" class="inputCheck" type="checkbox" {{if .DepthClampEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Rasterizer Discard:</div>
					<input data-field="RasterizerDiscardEnable" class="inputCheck" type="checkbox" {{if .RasterizerDiscardEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Polygon Mode:</div>
					<select data-field="PolygonMode" class="input" value="{{.PolygonMode}}" onchange="valueChanged">
					{{range $_, $k := .ListPolygonMode}}
						<option value="{{$k}}">{{$k}}</option>
					{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Cull Mode:</div>
					<select data-field="CullMode" class="input" value="{{.CullMode}}" onchange="valueChanged">
					{{range $_, $k := .ListCullMode}}
						<option value="{{$k}}">{{$k}}</option>
					{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Front Face:</div>
					<select data-field="FrontFace" class="input" value="{{.FrontFace}}" onchange="valueChanged">
					{{range $_, $k := .ListFrontFace}}
						<option value="{{$k}}">{{$k}}</option>
					{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Bias:</div>
					<input data-field="DepthBiasEnable" class="inputCheck" type="checkbox" {{if .DepthBiasEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Bias Constant Factor:</div>
					<input data-field="DepthBiasConstantFactor" class="input" type="text" value="{{.DepthBiasConstantFactor}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Bias Clamp:</div>
					<input data-field="DepthBiasClamp" class="input" type="text" value="{{.DepthBiasClamp}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Bias Slope Factor:</div>
					<input data-field="DepthBiasSlopeFactor" class="input" type="text" value="{{.DepthBiasSlopeFactor}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Line Width:</div>
					<input data-field="LineWidth" class="input" type="text" value="{{.LineWidth}}" onchange="valueChanged" />
				</div>

				<!-- vkPipelineMultisampleStateCreateInfo -->
				<h3>Pipeline Multisample</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Rasterization Samples:</div>
					<select data-field="RasterizationSamples" class="input" value="{{.RasterizationSamples}}" onchange="valueChanged">
					{{range $_, $k := .ListRasterizationSamples}}
						<option value="{{$k}}">{{$k}}</option>
					{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Sample Shading:</div>
					<input data-field="SampleShadingEnable" class="inputCheck" type="checkbox" {{if .SampleShadingEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Min Sample Shading:</div>
					<input data-field="MinSampleShading" class="input" type="text" value="{{.MinSampleShading}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Alpha To Coverage:</div>
					<input data-field="AlphaToCoverageEnable" class="inputCheck" type="checkbox" {{if .AlphaToCoverageEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Alpha To One:</div>
					<input data-field="AlphaToOneEnable" class="inputCheck" type="checkbox" {{if .AlphaToOneEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>

				<!-- vkPipelineColorBlendAttachmentState -->
				<h3>Pipeline Color Blend Attachment</h3>
				<div class="inputItem">
					<button class="inputButton" onclick="addAttachment">Add attachment</button>
				</div>
				{{range $i, $a := .ColorBlendAttachments}}
					<h4>Attachment[{{$i}}]</h4>
					<div class="inputItem">
						<button data-index="{{$i}}" class="inputButton" onclick="deleteAttachment">Delete attachment</button>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Blend:</div>
						<input data-array="ColorBlendAttachments" data-field="BlendEnable" data-index="{{$i}}" class="inputCheck" type="checkbox" {{if .BlendEnable}}checked="checked"{{end}} onchange="valueChanged" />
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Src Color Blend Factor:</div>
						<select data-array="ColorBlendAttachments" data-field="SrcColorBlendFactor" data-index="{{$i}}" class="input" value="{{.SrcColorBlendFactor}}" onchange="valueChanged">
						{{range $_, $k := .ListSrcColorBlendFactor}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Dst Color Blend Factor:</div>
						<select data-array="ColorBlendAttachments" data-field="DstColorBlendFactor" data-index="{{$i}}" class="input" value="{{.DstColorBlendFactor}}" onchange="valueChanged">
						{{range $_, $k := .ListDstColorBlendFactor}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Color Blend Op:</div>
						<select data-array="ColorBlendAttachments" data-field="ColorBlendOp" data-index="{{$i}}" class="input" value="{{.ColorBlendOp}}" onchange="valueChanged">
						{{range $_, $k := .ListColorBlendOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Src Alpha Blend Factor:</div>
						<select data-array="ColorBlendAttachments" data-field="SrcAlphaBlendFactor" data-index="{{$i}}" class="input" value="{{.SrcAlphaBlendFactor}}" onchange="valueChanged">
						{{range $_, $k := .ListSrcAlphaBlendFactor}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Dst Alpha Blend Factor:</div>
						<select data-array="ColorBlendAttachments" data-field="DstAlphaBlendFactor" data-index="{{$i}}" class="input" value="{{.DstAlphaBlendFactor}}" onchange="valueChanged">
						{{range $_, $k := .ListDstAlphaBlendFactor}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Alpha Blend Op:</div>
						<select data-array="ColorBlendAttachments" data-field="AlphaBlendOp" data-index="{{$i}}" class="input" value="{{.AlphaBlendOp}}" onchange="valueChanged">
						{{range $_, $k := .ListAlphaBlendOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
						</select>
					</div>
					<div name="ColorWriteMask" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Color Write Mask:</div>
						{{template "flags" ($.ColorWriteMaskFlagState $i $a)}}
					</div>
				{{end}}

				<!-- vkPipelineColorBlendStateCreateInfo -->
				<h3>Pipeline Color Blend</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Logic Op:</div>
					<input data-field="LogicOpEnable" class="inputCheck" type="checkbox" {{if .LogicOpEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Logic Op:</div>
					<select data-field="LogicOp" class="input" value="{{.LogicOp}}" onchange="valueChanged">
						{{range $_, $k := .ListLogicOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Blend Constants [4]:</div>
					<input data-field="BlendConstants0" class="input" type="text" value="{{.BlendConstants0}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel"></div>
					<input data-field="BlendConstants1" class="input" type="text" value="{{.BlendConstants1}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel"></div>
					<input data-field="BlendConstants2" class="input" type="text" value="{{.BlendConstants2}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel"></div>
					<input data-field="BlendConstants3" class="input" type="text" value="{{.BlendConstants3}}" onchange="valueChanged" />
				</div>

				<!-- vkPipelineDepthStencilStateCreateInfo -->
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Test:</div>
					<input data-field="DepthTestEnable" class="inputCheck" type="checkbox" {{if .DepthTestEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Write:</div>
					<input data-field="DepthWriteEnable" class="inputCheck" type="checkbox" {{if .DepthWriteEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Compare Op:</div>
					<select data-field="DepthCompareOp" class="input" value="{{.DepthCompareOp}}" onchange="valueChanged">
						{{range $_, $k := .ListDepthCompareOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Bounds Test:</div>
					<input data-field="DepthBoundsTestEnable" class="inputCheck" type="checkbox" {{if .DepthBoundsTestEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Stencil Test:</div>
					<input data-field="StencilTestEnable" class="inputCheck" type="checkbox" {{if .StencilTestEnable}}checked="checked"{{end}} onchange="valueChanged" />
				</div>
				<h4 data-field="PipelineDepthStencilState::Front">Front</h4>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Fail Op:</div>
					<select data-field="FrontFailOp" class="input" value="{{.FrontFailOp}}" onchange="valueChanged">
						{{range $_, $k := .ListFrontFailOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Pass Op:</div>
					<select data-field="FrontPassOp" class="input" value="{{.FrontPassOp}}" onchange="valueChanged">
						{{range $_, $k := .ListFrontPassOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Fail Op:</div>
					<select data-field="FrontDepthFailOp" class="input" value="{{.FrontDepthFailOp}}" onchange="valueChanged">
						{{range $_, $k := .ListFrontDepthFailOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Compare Op:</div>
					<select data-field="FrontCompareOp" class="input" value="{{.FrontCompareOp}}" onchange="valueChanged">
						{{range $_, $k := .ListFrontCompareOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Compare Mask:</div>
					<input data-field="FrontCompareMask" class="input" type="text" value="{{.FrontCompareMask}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Write Mask:</div>
					<input data-field="FrontWriteMask" class="input" type="text" value="{{.FrontWriteMask}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Reference:</div>
					<input data-field="FrontReference" class="input" type="text" value="{{.FrontReference}}" onchange="valueChanged" />
				</div>
				<h4 data-field="PipelineDepthStencilState::Back">Back</h4>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Fail Op:</div>
					<select data-field="BackFailOp" class="input" value="{{.BackFailOp}}" onchange="valueChanged">
						{{range $_, $k := .ListBackFailOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Pass Op:</div>
					<select data-field="BackPassOp" class="input" value="{{.BackPassOp}}" onchange="valueChanged">
						{{range $_, $k := .ListBackPassOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Depth Fail Op:</div>
					<select data-field="BackDepthFailOp" class="input" value="{{.BackDepthFailOp}}" onchange="valueChanged">
						{{range $_, $k := .ListBackDepthFailOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Compare Op:</div>
					<select data-field="BackCompareOp" class="input" value="{{.BackCompareOp}}" onchange="valueChanged">
						{{range $_, $k := .ListBackCompareOp}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Compare Mask:</div>
					<input data-field="BackCompareMask" class="input" type="text" value="{{.BackCompareMask}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Write Mask:</div>
					<input data-field="BackWriteMask" class="input" type="text" value="{{.BackWriteMask}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Reference:</div>
					<input data-field="BackReference" class="input" type="text" value="{{.BackReference}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Min Depth Bounds:</div>
					<input data-field="MinDepthBounds" class="input" type="text" value="{{.MinDepthBounds}}" onchange="valueChanged" />
				</div>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Max Depth Bounds:</div>
					<input data-field="MaxDepthBounds" class="input" type="text" value="{{.MaxDepthBounds}}" onchange="valueChanged" />
				</div>

				<!-- vkPipelineTessellationStateCreateInfo -->
				<h3>Pipeline Tessellation</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Patch Control Points:</div>
					<select data-field="PatchControlPoints" class="input" value="{{.PatchControlPoints}}" onchange="valueChanged">
						{{range $_, $k := .ListPatchControlPoints}}
							<option value="{{$k}}">{{$k}}</option>
						{{end}}
					</select>
				</div>

				<!-- vkGraphicsPipelineCreateInfo -->
				 <h3>Graphics Pipeline Create</h3>
				<div class="inputItem" onmouseenter="showTooltip">
					<div class="inputLabel">Subpass Count:</div>
					<input data-field="SubpassCount" class="input" type="text" value="{{.SubpassCount}}" onchange="valueChanged" />
				</div>
				<div name="ColorWriteMask" class="inputItemFlags" onmouseenter="showTooltip">
					<div class="inputLabel">Pipeline Create Flags:</div>
					{{template "flags" ($.PipelineCreateFlagsState)}}
				</div>
				<button class="inputButtonWide" onclick="savePipeline">Save</button>
			</div>
			<div id="ToolTip" class="bottomTooltip">tooltip</div>
		</div>
	</body>
</html>