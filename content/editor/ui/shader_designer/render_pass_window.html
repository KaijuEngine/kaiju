{{define "flags"}}
	<div class="inputFlags lightDarkBG">
		{{range $_, $k := .List}}
			<div class="checkboxListEntry">
				<input name="{{$k}}" data-field="{{$.Field}}" data-array="{{$.Array}}" data-index="{{$.Index}}" class="inputCheck" type="checkbox" {{if ($.Has $k)}}checked="checked"{{end}} onchange="valueChanged" />
				<span class="inputCheckLabel">{{$k}}</span>
			</div>
		{{end}}
	</div>
{{end}}

<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="editor/ui/editor_style.css">
		<link rel="stylesheet" type="text/css" href="editor/ui/shader_designer/shader_designer.css">
	</head>
	<body>
		<div class="fill darkBG noClipY pad5">
			<div class="topFields">
				<h1>Render Pass Editor</h1>
				<div class="inputItem">
					<div class="inputLabel">Name:</div>
					<input id="Name" class="input" type="text" value="{{.Name}}" onchange="nameChanged" />
				</div>

				<!-- vkAttachmentDescription -->
				<h3>Attachment Descriptions</h3>
				<div class="inputItem">
					<button class="inputButton" onclick="addAttachmentDescription">Add attachment description</button>
				</div>
				{{range $i, $a := .AttachmentDescriptions}}
					<h4>AttachmentDescription[{{$i}}]</h4>
					<div class="inputItem">
						<button data-index="{{$i}}" class="inputButton" onclick="deleteAttachmentDescription">Delete attachment description</button>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Format:</div>
						<select id="Format" class="input" value="{{.Format}}" onchange="valueChanged">
							{{range $_, $k := .ListFormat}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Samples:</div>
						<select id="Samples" class="input" value="{{.Samples}}" onchange="valueChanged">
							{{range $_, $k := .ListSamples}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Load Op:</div>
						<select id="LoadOp" class="input" value="{{.LoadOp}}" onchange="valueChanged">
							{{range $_, $k := .ListLoadOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Store Op:</div>
						<select id="StoreOp" class="input" value="{{.StoreOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStoreOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Stencil Load Op:</div>
						<select id="StencilLoadOp" class="input" value="{{.StencilLoadOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStencilLoadOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Stencil Store Op:</div>
						<select id="StencilStoreOp" class="input" value="{{.StencilStoreOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStencilStoreOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Initial Layout:</div>
						<select id="InitialLayout" class="input" value="{{.InitialLayout}}" onchange="valueChanged">
							{{range $_, $k := .ListInitialLayout}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Final Layout:</div>
						<select id="FinalLayout" class="input" value="{{.FinalLayout}}" onchange="valueChanged">
							{{range $_, $k := .ListFinalLayout}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
				{{end}}

				<!-- vkSubpassDescription -->
				<h3>Subpass Descriptions</h3>
				<div class="inputItem">
					<button class="inputButton" onclick="addSubpassDescription">Add attachment description</button>
				</div>
				{{range $i, $s := .SubpassDescriptions}}
					<h4>SubpassDescription[{{$i}}]</h4>
					<div class="inputItem">
						<button data-index="{{$i}}" class="inputButton" onclick="deleteSubpassDescription">Delete subpass description</button>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Pipeline Bind Point:</div>
						<select id="PipelineBindPoint" class="input" value="{{.PipelineBindPoint}}" onchange="valueChanged">
							{{range $_, $k := .ListPipelineBindPoint}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<h5>SubpassDescription[{{$i}}] Color References</h5>
					<div class="inputItem">
						<button class="inputButton" data-index="{{$i}}" onclick="addSubpassDescriptionColorRef">Add color reference</button>
					</div>
					{{range $j, $r := .ColorAttachmentReferences}}
						<h6>Color Reference[{{$j}}]</h6>
						<div class="inputItem">
							<button data-index="{{$i}}" data-subindex="{{$j}}" class="inputButton" onclick="deleteSubpassDescriptionColorRef">Delete color reference</button>
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Attachment:</div>
							<input id="Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Layout:</div>
							<select id="Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<h5>SubpassDescription[{{$i}}] Input References</h5>
					<div class="inputItem">
						<button class="inputButton" data-index="{{$i}}" onclick="addSubpassDescriptionInputRef">Add input reference</button>
					</div>
					{{range $j, $r := .InputAttachmentReferences}}
						<h6>Input Reference[{{$j}}]</h6>
						<div class="inputItem">
							<button data-index="{{$i}}" data-subindex="{{$j}}" class="inputButton" onclick="deleteSubpassDescriptionInputRef">Delete input reference</button>
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Attachment:</div>
							<input id="Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Layout:</div>
							<select id="Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<h5>SubpassDescription[{{$i}}] Resolve References</h5>
					<div class="inputItem">
						<button class="inputButton" data-index="{{$i}}" onclick="addSubpassDescriptionResolveRef">Add resolve reference</button>
					</div>
					{{range $j, $r := .ResolveAttachments}}
						<h6>Resolve Reference[{{$j}}]</h6>
						<div class="inputItem">
							<button data-index="{{$i}}" data-subindex="{{$j}}" class="inputButton" onclick="deleteSubpassDescriptionResolveRef">Delete resolve reference</button>
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Attachment:</div>
							<input id="Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Layout:</div>
							<select id="Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<h5>SubpassDescription[{{$i}}] Depth Stencil References</h5>
					<div class="inputItem">
						<button class="inputButton" data-index="{{$i}}" onclick="addSubpassDescriptionDepthStencilRefs">Add depth stencil reference</button>
					</div>
					{{range $j, $r := .DepthStencilAttachment}}
						<h6>Depth Stencil Reference[{{$j}}]</h6>
						<div class="inputItem">
							<button data-index="{{$i}}" data-subindex="{{$j}}" class="inputButton" onclick="deleteSubpassDescriptionDepthStencilRef">Delete depth stencil reference</button>
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Attachment:</div>
							<input id="Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem" onmouseenter="showTooltip">
							<div class="inputLabel">Layout:</div>
							<select id="Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
				{{end}}

				<!-- vkSubpassDependency -->
				<h3>Subpass Dependencies</h3>
				<div class="inputItem">
					<button class="inputButton" onclick="addSubpassDependency">Add supbass dependency</button>
				</div>
				{{range $i, $a := .SubpassDependencies}}
					<h4>SubpassDependency[{{$i}}]</h4>
					<div class="inputItem">
						<button data-array="SubpassDependencies" data-index="{{$i}}" class="inputButton" onclick="deleteSubpassDependency">Delete subpass dependency</button>
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Src Subpass:</div>
						<input id="SrcSubpass" class="input" type="text" value="{{.SrcSubpass}}" onchange="valueChanged" />
					</div>
					<div class="inputItem" onmouseenter="showTooltip">
						<div class="inputLabel">Dst Subpass:</div>
						<input id="DstSubpass" class="input" type="text" value="{{.DstSubpass}}" onchange="valueChanged" />
					</div>
					<div name="SrcStageMask" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Src Stage Mask:</div>
						{{template "flags" ($.SrcStageMaskFlagState $i $a)}}
					</div>
					<div name="DstStageMask" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Dst Stage Mask:</div>
						{{template "flags" ($.DstStageMaskFlagState $i $a)}}
					</div>
					<div name="SrcAccessMask" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Src Access Mask:</div>
						{{template "flags" ($.SrcAccessMaskFlagState $i $a)}}
					</div>
					<div name="DstAccessMask" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Dst Access Mask:</div>
						{{template "flags" ($.DstAccessMaskFlagState $i $a)}}
					</div>
					<div name="DependencyFlags" class="inputItemFlags" onmouseenter="showTooltip">
						<div class="inputLabel">Dependency Flags:</div>
						{{template "flags" ($.DependencyFlagsState $i $a)}}
					</div>
				{{end}}
				<button class="inputButtonWide" onclick="saveRenderPass">Save</button>
			</div>
			<div id="ToolTip" class="bottomTooltip">tooltip</div>
		</div>
	</body>
</html>