{{define "flags"}}
	<div class="inputFlags lightDarkBG">
		{{range $_, $k := .List}}
			<div class="checkboxListEntry">
				<input name="{{$k}}" data-path="{{$.Path}}" class="inputCheck" type="checkbox" {{if ($.Has $k)}}checked="checked"{{end}} onchange="valueChanged" />
				<span class="inputCheckLabel">{{$k}}</span>
			</div>
		{{end}}
	</div>
{{end}}

<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="editor/ui/editor_style.css">
		<link rel="stylesheet" type="text/css" href="editor/ui/shader_designer/shader_designer.css">
	</head>
	<body>
		<div class="fill darkBG noClipY pad5">
			<div class="menuBar">
				<span class="menuBarItem" onclick="returnHome">Home</span>
			</div>
			<div class="topFields">
				<h1>Render Pass Editor</h1>
				<div class="inputItem">
					<div class="inputLabel">Name:</div>
					<input id="Name" class="input" type="text" value="{{.Name}}" onchange="nameChanged" />
				</div>

				<!-- vkAttachmentDescription -->
				<hr/>
				<h2>Attachment Descriptions</h2>
				{{range $i, $a := .AttachmentDescriptions}}
					<h3>AttachmentDescription[{{$i}}]</h3>
					<div class="inputItem">
						<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" onclick="deleteAttachmentDescription" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="Format" onmouseenter="showTooltip">Format:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.Format" class="input" value="{{.Format}}" onchange="valueChanged">
							{{range $_, $k := .ListFormat}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="Samples" onmouseenter="showTooltip">Samples:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.Samples" class="input" value="{{.Samples}}" onchange="valueChanged">
							{{range $_, $k := .ListSamples}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<!-- IMAGE BEGIN -->
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="MipLevels" onmouseenter="showTooltip">Mip Levels:</div>
						<input data-path="AttachmentDescriptions.{{$i}}.Image.MipLevels" class="input" type="text" value="{{.Image.MipLevels}}" onchange="valueChanged" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="LayerCount" onmouseenter="showTooltip">Layer Count:</div>
						<input data-path="AttachmentDescriptions.{{$i}}.Image.LayerCount" class="input" type="text" value="{{.Image.LayerCount}}" onchange="valueChanged" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="Tiling" onmouseenter="showTooltip">Tiling:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.Image.Tiling" class="input" value="{{.Image.Tiling}}" onchange="valueChanged">
							{{range $_, $k := .Image.ListTiling}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="Filter" onmouseenter="showTooltip">Filter:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.Image.Filter" class="input" value="{{.Image.Filter}}" onchange="valueChanged">
							{{range $_, $k := .Image.ListFilter}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="Usage" onmouseenter="showTooltip">Usage:</div>
						{{template "flags" ($.UsageFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="MemoryProperty" onmouseenter="showTooltip">Memory Property:</div>
						{{template "flags" ($.MemoryPropertyFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="Aspect" onmouseenter="showTooltip">Aspect:</div>
						{{template "flags" ($.AspectFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="Access" onmouseenter="showTooltip">Access:</div>
						{{template "flags" ($.AccessFlagState $i $a)}}
					</div>
					<!-- IMAGE END -->
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="LoadOp" onmouseenter="showTooltip">Load Op:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.LoadOp" class="input" value="{{.LoadOp}}" onchange="valueChanged">
							{{range $_, $k := .ListLoadOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="StoreOp" onmouseenter="showTooltip">Store Op:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.StoreOp" class="input" value="{{.StoreOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStoreOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="StencilLoadOp" onmouseenter="showTooltip">Stencil Load Op:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.StencilLoadOp" class="input" value="{{.StencilLoadOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStencilLoadOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="StencilStoreOp" onmouseenter="showTooltip">Stencil Store Op:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.StencilStoreOp" class="input" value="{{.StencilStoreOp}}" onchange="valueChanged">
							{{range $_, $k := .ListStencilStoreOp}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="InitialLayout" onmouseenter="showTooltip">Initial Layout:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.InitialLayout" class="input" value="{{.InitialLayout}}" onchange="valueChanged">
							{{range $_, $k := .ListInitialLayout}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="FinalLayout" onmouseenter="showTooltip">Final Layout:</div>
						<select data-path="AttachmentDescriptions.{{$i}}.FinalLayout" class="input" value="{{.FinalLayout}}" onchange="valueChanged">
							{{range $_, $k := .ListFinalLayout}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
				{{end}}
				<div class="inputItem">
					<img class="addButton" src="textures/plus.png"  onclick="addAttachmentDescription" />
				</div>

				<!-- vkSubpassDescription -->
				<hr/>
				<h2>Subpass Descriptions</h2>
				{{range $i, $s := .SubpassDescriptions}}
					<h3>SubpassDescription[{{$i}}]</h3>
					<div class="inputItem">
						<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" onclick="deleteSubpassDescription" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="PipelineBindPoint" onmouseenter="showTooltip">Pipeline Bind Point:</div>
						<select data-path="SubpassDescriptions.{{$i}}.PipelineBindPoint" class="input" value="{{.PipelineBindPoint}}" onchange="valueChanged">
							{{range $_, $k := .ListPipelineBindPoint}}
								<option value="{{$k}}">{{$k}}</option>
							{{end}}
						</select>
					</div>
					<h3>Color References</h3>
					{{range $j, $r := .ColorAttachmentReferences}}
						<h3 data-tooltip="ColorAttachments" onmouseenter="showTooltip">Color Reference[{{$j}}]</h3>
						<div class="inputItem">
							<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" data-subindex="{{$j}}" onclick="deleteSubpassDescriptionColorRef" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Attachment" onmouseenter="showTooltip">Attachment:</div>
							<input data-path="SubpassDescriptions.{{$i}}.ColorAttachmentReferences.{{$j}}.Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Layout" onmouseenter="showTooltip">Layout:</div>
							<select data-path="SubpassDescriptions.{{$i}}.ColorAttachmentReferences.{{$j}}.Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<div class="inputItem">
						<img class="addButton" src="textures/plus.png" data-index="{{$i}}" onclick="addSubpassDescriptionColorRef" />
					</div>
					<h3 data-tooltip="InputAttachments" onmouseenter="showTooltip">Input References</h3>
					{{range $j, $r := .InputAttachmentReferences}}
						<h3>Input Reference[{{$j}}]</h3>
						<div class="inputItem">
							<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" data-subindex="{{$j}}" onclick="deleteSubpassDescriptionInputRef" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Attachment" onmouseenter="showTooltip">Attachment:</div>
							<input data-path="SubpassDescriptions.{{$i}}.InputAttachmentReferences.{{$j}}.Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Layout" onmouseenter="showTooltip">Layout:</div>
							<select data-path="SubpassDescriptions.{{$i}}.InputAttachmentReferences.{{$j}}.Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<div class="inputItem">
						<img class="addButton" src="textures/plus.png" data-index="{{$i}}" onclick="addSubpassDescriptionInputRef" />
					</div>
					<h3 data-tooltip="ResolveAttachments" onmouseenter="showTooltip">Resolve References</h3>
					{{range $j, $r := .ResolveAttachments}}
						<h3>Resolve Reference[{{$j}}]</h3>
						<div class="inputItem">
							<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" data-subindex="{{$j}}" onclick="deleteSubpassDescriptionResolveRef" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Attachment" onmouseenter="showTooltip">Attachment:</div>
							<input data-path="SubpassDescriptions.{{$i}}.ResolveAttachments.{{$j}}.Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Layout" onmouseenter="showTooltip">Layout:</div>
							<select data-path="SubpassDescriptions.{{$i}}.ResolveAttachments.{{$j}}.Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<div class="inputItem">
						<img class="addButton" src="textures/plus.png" data-index="{{$i}}" onclick="addSubpassDescriptionResolveRef" />
					</div>
					<h3 data-tooltip="DepthStencilAttachment" onmouseenter="showTooltip">Depth Stencil References</h3>
					{{range $j, $r := .DepthStencilAttachment}}
						<h3>Depth Stencil Reference[{{$j}}]</h3>
						<div class="inputItem">
							<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" data-subindex="{{$j}}" onclick="deleteSubpassDescriptionDepthStencilRef" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Attachment" onmouseenter="showTooltip">Attachment:</div>
							<input data-path="SubpassDescriptions.{{$i}}.DepthStencilAttachment.{{$j}}.Attachment" class="input" type="text" value="{{.Attachment}}" onchange="valueChanged" />
						</div>
						<div class="inputItem">
							<div class="inputLabel" data-tooltip="Layout" onmouseenter="showTooltip">Layout:</div>
							<select data-path="SubpassDescriptions.{{$i}}.DepthStencilAttachment.{{$j}}.Layout" class="input" value="{{.Layout}}" onchange="valueChanged">
								{{range $_, $k := .ListLayout}}
									<option value="{{$k}}">{{$k}}</option>
								{{end}}
							</select>
						</div>
					{{end}}
					<div class="inputItem">
						<img class="addButton" src="textures/plus.png" data-index="{{$i}}" onclick="addSubpassDescriptionDepthStencilRefs" />
					</div>
				{{end}}
				<div class="inputItem">
					<img class="addButton" src="textures/plus.png" onclick="addSubpassDescription" />
				</div>

				<!-- vkSubpassDependency -->
				<hr/>
				<h2>Subpass Dependencies</h2>
				{{range $i, $a := .SubpassDependencies}}
					<h3>SubpassDependency[{{$i}}]</h3>
					<div class="inputItem">
						<img class="deleteButton" src="textures/minus.png" data-index="{{$i}}" onclick="deleteSubpassDependency" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="SrcSubpass" onmouseenter="showTooltip">Src Subpass:</div>
						<input data-path="SubpassDependencies.{{$i}}.SrcSubpass" class="input" type="text" value="{{.SrcSubpass}}" onchange="valueChanged" />
					</div>
					<div class="inputItem">
						<div class="inputLabel" data-tooltip="DstSubpass" onmouseenter="showTooltip">Dst Subpass:</div>
						<input data-path="SubpassDependencies.{{$i}}.DstSubpass" class="input" type="text" value="{{.DstSubpass}}" onchange="valueChanged" />
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="SrcStageMask" onmouseenter="showTooltip">Src Stage Mask:</div>
						{{template "flags" ($.SrcStageMaskFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="DstStageMask" onmouseenter="showTooltip">Dst Stage Mask:</div>
						{{template "flags" ($.DstStageMaskFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="SrcAccessMask" onmouseenter="showTooltip">Src Access Mask:</div>
						{{template "flags" ($.SrcAccessMaskFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="DstAccessMask" onmouseenter="showTooltip">Dst Access Mask:</div>
						{{template "flags" ($.DstAccessMaskFlagState $i $a)}}
					</div>
					<div class="inputItemFlags">
						<div class="inputLabel" data-tooltip="DependencyFlags" onmouseenter="showTooltip">Dependency Flags:</div>
						{{template "flags" ($.DependencyFlagsState $i $a)}}
					</div>
				{{end}}
				<div class="inputItem">
					<img class="addButton" src="textures/plus.png" onclick="addSubpassDependency" />
				</div>
				<hr/>
				<button class="inputButtonWide" onclick="saveRenderPass">Save</button>
			</div>
			<div id="ToolTip" class="bottomTooltip">tooltip</div>
		</div>
	</body>
</html>